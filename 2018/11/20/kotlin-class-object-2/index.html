<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="android,node.js,react native,ios,mongodb,weex,java"><title>Kotlin教程-类和对象(二) | 哒哒</title><link rel="stylesheet" type="text/css" href="//fonts.css.network/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Kotlin教程-类和对象(二)</h1><a id="logo" href="/.">哒哒</a><p class="description">Keep engineers playfully</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/flowchart/"><i class="fa fa-github"> 流图</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Kotlin教程-类和对象(二)</h1><div class="post-meta"><a href="/2018/11/20/kotlin-class-object-2/#comments" class="comment-count"></a><p><span class="date">Nov 20, 2018</span><span><a href="/categories/Kotlin/" class="category">Kotlin</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p>本博客介绍Kotlin类和对象。</p>
<a id="more"></a>
<h2 id="型变"><a href="#型变" class="headerlink" title="型变"></a>型变</h2><p>Java类型系统中最棘手的部分之一是通配符类型。而Kotlin中并没有，相反，它有两个其他的东西：声明处型变和类型投影。</p>
<h3 id="声明处型变"><a href="#声明处型变" class="headerlink" title="声明处型变"></a>声明处型变</h3><p>在Kotlin中，有一种方法向编译器解释这种情况，称为声明处型变，可以标注Source类型参数T来确保它仅从Source<t>成员中返回(生产)，并从不消费，为此Kotlin提供了out修饰符。</t></p>
<ul>
<li><p>声明接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kc.chapter4</div><div class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Source</span>&lt;<span class="title">out</span> <span class="title">T</span>&gt; </span>&#123;</div><div class="line">    <span class="function">fun <span class="title">nextT</span><span class="params">()</span>: T</span></div><div class="line"><span class="function">&#125;</span></div></pre></td></tr></table></figure>
</li>
<li><p>创建方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function">fun <span class="title">demo</span><span class="params">(strs: Source&lt;Any&gt;)</span> </span>&#123;</div><div class="line">    val objects: Source&lt;Any&gt; = strs</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>除了out修饰符之外，Kotlin还补充了in修饰符，它使得一个类型参数逆变：只可以被消费而不可以被生产。</p>
<ul>
<li><p>创建接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kc.chapter4</div><div class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Comparable</span>&lt;<span class="title">in</span> <span class="title">T</span>&gt; </span>&#123;</div><div class="line">    <span class="function">operator fun <span class="title">compareTo</span><span class="params">(other: T)</span>: Int</span></div><div class="line"><span class="function">&#125;</span></div></pre></td></tr></table></figure>
</li>
<li><p>创建方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function">fun <span class="title">testComparable</span><span class="params">(a: Comparable&lt;Double&gt;)</span> </span>&#123;</div><div class="line">    a.compareTo(<span class="number">12.4</span>)</div><div class="line">    val b: Comparable&lt;Double&gt; = a</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="泛型函数"><a href="#泛型函数" class="headerlink" title="泛型函数"></a>泛型函数</h2><p>不仅可以有类型参数，函数也可以有。</p>
<ul>
<li><p>声明函数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">fun &lt;T&gt; testA(item: T): List&lt;T&gt;? &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">null</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>方法调用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">val list = testA&lt;String&gt;(<span class="string">""</span>)</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="嵌套类与内部类"><a href="#嵌套类与内部类" class="headerlink" title="嵌套类与内部类"></a>嵌套类与内部类</h2><h3 id="嵌套类"><a href="#嵌套类" class="headerlink" title="嵌套类"></a>嵌套类</h3><ul>
<li><p>创建嵌套类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kc.chapter4</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Outer</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> val tag: Int = <span class="number">1</span></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</div><div class="line">        <span class="function">fun <span class="title">demo</span><span class="params">()</span> </span>= <span class="number">100</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kc.chapter4</div><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    val demo = Outer.MyClass().demo()</div><div class="line">    print(demo)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="内部类"><a href="#内部类" class="headerlink" title="内部类"></a>内部类</h3><p>将内部类标记为inner以便能够访问外部类的成员，内部类会带有一个对外部类的对象引用：</p>
<ul>
<li><p>创建内部类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kc.chapter4</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyOuter</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> val num: Int = <span class="number">10</span></div><div class="line">    inner <span class="class"><span class="keyword">class</span> <span class="title">MyInner</span> </span>&#123;</div><div class="line">        <span class="function">fun <span class="title">demo</span><span class="params">()</span> </span>= num</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>测试</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kc.chapter4</div><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    val num = MyOuter().MyInner().demo()</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="匿名内部类"><a href="#匿名内部类" class="headerlink" title="匿名内部类"></a>匿名内部类</h3><ul>
<li><p>声明接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kc.chapter4</div><div class="line"><span class="class"><span class="keyword">interface</span> <span class="title">OnNetworkListener</span> </span>&#123;</div><div class="line">    <span class="function">fun <span class="title">onSuccess</span><span class="params">(msg: String)</span></span></div><div class="line"><span class="function">    fun <span class="title">onFailed</span><span class="params">(errorMsg: String)</span></span></div><div class="line"><span class="function">&#125;</span></div></pre></td></tr></table></figure>
</li>
<li><p>创建对象</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kc.chapter4</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpClient</span> </span>&#123;</div><div class="line">    val msg: String = <span class="string">"Success!"</span></div><div class="line">    val errorMsg: String = <span class="string">"Failed!"</span></div><div class="line">    <span class="function">fun <span class="title">setOnNetworkListener</span><span class="params">(listener: OnNetworkListener)</span> </span>&#123;</div><div class="line">        listener.onSuccess(msg)</div><div class="line">        listener.onFailed(errorMsg)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>测试</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kc.chapter4</div><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    var client = HttpClient()</div><div class="line">    client.setOnNetworkListener(object : OnNetworkListener &#123;</div><div class="line">        <span class="function">override fun <span class="title">onSuccess</span><span class="params">(msg: String)</span> </span>&#123;</div><div class="line">        &#125;</div><div class="line">        <span class="function">override fun <span class="title">onFailed</span><span class="params">(errorMsg: String)</span> </span>&#123;</div><div class="line">        &#125;</div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="枚举类"><a href="#枚举类" class="headerlink" title="枚举类"></a>枚举类</h2><h3 id="枚举类-1"><a href="#枚举类-1" class="headerlink" title="枚举类"></a>枚举类</h3><p>实现类型安全的枚举：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kc.chapter4</div><div class="line"><span class="keyword">enum</span> <span class="class"><span class="keyword">class</span> <span class="title">Phone</span> </span>&#123;</div><div class="line">    APPLE, HUAWEI, XIAOMI, SONY, VIVO</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kc.chapter4</div><div class="line"><span class="function"><span class="keyword">enum</span> class <span class="title">Phone</span><span class="params">(val value: String)</span> </span>&#123;</div><div class="line">    APPLE(<span class="string">"apple"</span>),</div><div class="line">    HUAWEI(<span class="string">"huawei"</span>),</div><div class="line">    XIAOMI(<span class="string">"xiaomi"</span>),</div><div class="line">    SONY(<span class="string">"sony"</span>),</div><div class="line">    VIVO(<span class="string">"vivo"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="匿名类"><a href="#匿名类" class="headerlink" title="匿名类"></a>匿名类</h3><p>枚举常量也可以声明自己的匿名类：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kc.chapter4</div><div class="line"><span class="keyword">enum</span> <span class="class"><span class="keyword">class</span> <span class="title">Exam</span> </span>&#123;</div><div class="line">    EXCELLENT &#123;</div><div class="line">        <span class="function">override fun <span class="title">score</span><span class="params">()</span> </span>= EXCELLENT</div><div class="line">    &#125;,</div><div class="line">    GOOD &#123;</div><div class="line">        <span class="function">override fun <span class="title">score</span><span class="params">()</span> </span>= GOOD</div><div class="line">    &#125;,</div><div class="line">    PASS &#123;</div><div class="line">        <span class="function">override fun <span class="title">score</span><span class="params">()</span> </span>= PASS</div><div class="line">    &#125;,</div><div class="line">    FAILED &#123;</div><div class="line">        <span class="function">override fun <span class="title">score</span><span class="params">()</span> </span>= FAILED</div><div class="line">    &#125;;</div><div class="line">    <span class="function"><span class="keyword">abstract</span> fun <span class="title">score</span><span class="params">()</span>: Exam</span></div><div class="line"><span class="function">&#125;</span></div></pre></td></tr></table></figure></p>
<h3 id="在枚举中实现接口"><a href="#在枚举中实现接口" class="headerlink" title="在枚举中实现接口"></a>在枚举中实现接口</h3><ul>
<li>实现接口<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kc.chapter4</div><div class="line"><span class="function"><span class="keyword">enum</span> class <span class="title">Phone</span><span class="params">(val value: String)</span> : OnNetworkListener </span>&#123;</div><div class="line">    APPLE(<span class="string">"apple"</span>) &#123;</div><div class="line">        <span class="function">override fun <span class="title">onSuccess</span><span class="params">(msg: String)</span> </span>&#123;</div><div class="line">        &#125;</div><div class="line">        <span class="function">override fun <span class="title">onFailed</span><span class="params">(errorMsg: String)</span> </span>&#123;</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    HUAWEI(<span class="string">"huawei"</span>) &#123;</div><div class="line">        <span class="function">override fun <span class="title">onSuccess</span><span class="params">(msg: String)</span> </span>&#123;</div><div class="line">        &#125;</div><div class="line">        <span class="function">override fun <span class="title">onFailed</span><span class="params">(errorMsg: String)</span> </span>&#123;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="使用枚举常量"><a href="#使用枚举常量" class="headerlink" title="使用枚举常量"></a>使用枚举常量</h3><ul>
<li><p>声明枚举常量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kc.chapter4</div><div class="line"><span class="keyword">enum</span> <span class="class"><span class="keyword">class</span> <span class="title">Os</span> </span>&#123;</div><div class="line">    ANDROID, IOS, MAC, LINUX, WINDOWS</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kc.chapter4</div><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    printAllInfo&lt;Os&gt;()</div><div class="line">&#125;</div><div class="line">inline fun &lt;reified T : Enum&lt;T&gt;&gt; printAllInfo() &#123;</div><div class="line">    print(enumValues&lt;T&gt;().joinToString &#123; it.name &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="对象表达式与对象声明"><a href="#对象表达式与对象声明" class="headerlink" title="对象表达式与对象声明"></a>对象表达式与对象声明</h2><h3 id="对象表达式"><a href="#对象表达式" class="headerlink" title="对象表达式"></a>对象表达式</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">client.setOnNetworkListener(object : OnNetworkListener &#123;</div><div class="line">        <span class="function">override fun <span class="title">onSuccess</span><span class="params">(msg: String)</span> </span>&#123;</div><div class="line">        &#125;</div><div class="line">        <span class="function">override fun <span class="title">onFailed</span><span class="params">(errorMsg: String)</span> </span>&#123;</div><div class="line">        &#125;</div><div class="line">    &#125;)</div></pre></td></tr></table></figure>
<h3 id="对象声明"><a href="#对象声明" class="headerlink" title="对象声明"></a>对象声明</h3><ul>
<li><p>对象声明在同一个类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd</div><div class="line">object Phone &#123;</div><div class="line">    var phone1: String = <span class="string">""</span></div><div class="line">&#125;</div><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    val p1 = Phone</div><div class="line">    val p2 = Phone</div><div class="line">    p1.phone1 = <span class="string">"huawei"</span></div><div class="line">    print(p1.phone1)</div><div class="line">    print(p2.phone1)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>对象声明在另一个类内部</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</div><div class="line">    var mac: String = <span class="string">"Mac"</span></div><div class="line">    object Pc &#123;</div><div class="line">        var pc: String = <span class="string">""</span></div><div class="line">        <span class="function">fun <span class="title">showPc</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="comment">//错误，不能访问到外部类的方法和变量</span></div><div class="line">            <span class="comment">//print("My ps type is $mac")</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    val pc = Main.Pc</div><div class="line">    <span class="comment">//错误，不能通过外部类的实例访问到该对象</span></div><div class="line">    <span class="comment">//pc.Pc.pc</span></div><div class="line">    print(Main.Pc.pc)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="对象表达式与对象声明的语义差别"><a href="#对象表达式与对象声明的语义差别" class="headerlink" title="对象表达式与对象声明的语义差别"></a>对象表达式与对象声明的语义差别</h3><ul>
<li>对象表达式是在使用他们的地方立即执行的</li>
<li>对象声明是在第一次被访问到时延迟初始化的</li>
<li>伴生对象的初始化是在相应的类被加载时，与Java静态初始化器的语义相匹配</li>
</ul>
<h2 id="伴生对象"><a href="#伴生对象" class="headerlink" title="伴生对象"></a>伴生对象</h2><p>类内部的对象可以使用companion关键字标记：</p>
<ul>
<li><p>创建伴生对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd.chapter1</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Utils</span> </span>&#123;</div><div class="line">    companion object MyUtils &#123;</div><div class="line">        <span class="function">fun <span class="title">getInstance</span><span class="params">()</span>: Utils </span>= Utils()</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd</div><div class="line"><span class="keyword">import</span> com.dyx.kd.chapter1.Utils</div><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    <span class="comment">//单例模式</span></div><div class="line">    Utils.getInstance()</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>在省略伴生对象的名称的情况下，可以使用名称Companion：</p>
<ul>
<li><p>创建伴生对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd.chapter1</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</div><div class="line">    companion object&#123;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd</div><div class="line"><span class="keyword">import</span> com.dyx.kd.chapter1.MyClass</div><div class="line"><span class="keyword">import</span> com.dyx.kd.chapter1.Utils</div><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    val a = MyClass.Companion</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>即使伴生对象的成员看起来像其他语言的静态成员，在运行时他们仍然是真实对象的实例成员，而且可以实现接口。在Jvm平台，如果使用@JvmStatic注解，你可以将伴生对象的成员生成为真正的静态方法和字段。</p>
<h2 id="类型别名"><a href="#类型别名" class="headerlink" title="类型别名"></a>类型别名</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd.chapter1</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</div><div class="line">    inner <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</div><div class="line">    inner <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">typealias ATest = A.Test</div><div class="line">typealias BTest = B.Test</div></pre></td></tr></table></figure>
<h2 id="内联类"><a href="#内联类" class="headerlink" title="内联类"></a>内联类</h2><p>有时候，业务逻辑需要围绕某种类型创建包装器。然而，由于额外的堆内存分配问题，它会引入运行时的性能开销。此外，如果被包装的类型是原生类型，性能的损失是很糟糕的，因为原生类型通常在运行时就进行了大量优化，然而他们的包装器却没有得到任何特殊的处理。为了解决这个问题，Kotlin引入了内联类。</p>
<ul>
<li><p>声明内联类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd.chapter1</div><div class="line"><span class="function">inline class <span class="title">MyInline</span><span class="params">(val name: String)</span> </span>&#123;</div><div class="line">    val length: <span class="function">Int <span class="title">get</span><span class="params">()</span> </span>= name.length</div><div class="line">    <span class="function">fun <span class="title">test</span><span class="params">()</span> </span>&#123;</div><div class="line">        print(<span class="string">"My name is $name"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd</div><div class="line"><span class="keyword">import</span> com.dyx.kd.chapter1.MyClass</div><div class="line"><span class="keyword">import</span> com.dyx.kd.chapter1.MyInline</div><div class="line"><span class="keyword">import</span> com.dyx.kd.chapter1.Utils</div><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    val my = MyInline(<span class="string">"This is a inline class!"</span>)</div><div class="line">    my.test()</div><div class="line">    print(my.length)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>内联类的一些限制：</p>
<ul>
<li>内联类不能含有init代码块</li>
<li>内联类不能含有幕后字段</li>
<li>内联类只能含有简单的计算属性(不能含有延迟初始化/委托属性)</li>
</ul>
<h2 id="内联类继承"><a href="#内联类继承" class="headerlink" title="内联类继承"></a>内联类继承</h2><p>内联类允许去继承接口：</p>
<ul>
<li><p>定义接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd.chapter1</div><div class="line"><span class="class"><span class="keyword">interface</span> <span class="title">OnOkListener</span> </span>&#123;</div><div class="line">    <span class="function">fun <span class="title">onOk</span><span class="params">()</span>: String</span></div><div class="line"><span class="function">&#125;</span></div></pre></td></tr></table></figure>
</li>
<li><p>定义内联类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd.chapter1</div><div class="line"><span class="function">inline class <span class="title">MyInline</span><span class="params">(val name: String)</span> : OnOkListener </span>&#123;</div><div class="line">    <span class="function">override fun <span class="title">onOk</span><span class="params">()</span>: String </span>= <span class="string">"Tell my you $name"</span></div><div class="line">    val length: <span class="function">Int <span class="title">get</span><span class="params">()</span> </span>= name.length</div><div class="line">    <span class="function">fun <span class="title">test</span><span class="params">()</span> </span>&#123;</div><div class="line">        print(<span class="string">"My name is $name"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd</div><div class="line"><span class="keyword">import</span> com.dyx.kd.chapter1.MyClass</div><div class="line"><span class="keyword">import</span> com.dyx.kd.chapter1.MyInline</div><div class="line"><span class="keyword">import</span> com.dyx.kd.chapter1.Utils</div><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    val name = MyInline(<span class="string">"dayongxin"</span>)</div><div class="line">    print(name.onOk())</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>内联类与类型别名的区别：</p>
<ul>
<li>内联类引入了一个真实的新类型</li>
<li>类型别名仅仅是为现有类型取了一个新的替代名词</li>
</ul>
<h2 id="委托"><a href="#委托" class="headerlink" title="委托"></a>委托</h2><h3 id="委托属性"><a href="#委托属性" class="headerlink" title="委托属性"></a>委托属性</h3><p>有一些常见的属性类型，虽然我们可以在每次需要的时候手动实现它们，但是如果能够为大家把他们只实现一次并放入一个库会更好。</p>
<ul>
<li>延迟属性<br>其值只在首次访问时计算</li>
<li>可观察属性<br>监听器会收到有关此属性变更的通知</li>
<li><p>把多个属性存储在一个映射中，而不是每个存储在单独的字段中</p>
</li>
<li><p>创建委托</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd.chapter1</div><div class="line"><span class="keyword">import</span> kotlin.reflect.KProperty</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Delegate</span> </span>&#123;</div><div class="line">    <span class="function">operator fun <span class="title">getValue</span><span class="params">(myDelegate: MyDelegate, property: KProperty&lt;*&gt;)</span>: String </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"The method getValue!"</span></div><div class="line">    &#125;</div><div class="line">    <span class="function">operator fun <span class="title">setValue</span><span class="params">(myDelegate: MyDelegate, property: KProperty&lt;*&gt;, s: String)</span> </span>&#123;</div><div class="line">        print(<span class="string">"The method setValue value is $s"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>声明委托属性</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd.chapter1</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyDelegate</span> </span>&#123;</div><div class="line">    var a: <span class="function">String by <span class="title">Delegate</span><span class="params">()</span></span></div><div class="line"><span class="function">&#125;</span></div></pre></td></tr></table></figure>
</li>
<li><p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd</div><div class="line"><span class="keyword">import</span> com.dyx.kd.chapter1.MyClass</div><div class="line"><span class="keyword">import</span> com.dyx.kd.chapter1.MyDelegate</div><div class="line"><span class="keyword">import</span> com.dyx.kd.chapter1.MyInline</div><div class="line"><span class="keyword">import</span> com.dyx.kd.chapter1.Utils</div><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    val myDelegate = MyDelegate()</div><div class="line">    print(myDelegate.a)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="委托实现"><a href="#委托实现" class="headerlink" title="委托实现"></a>委托实现</h3><p>委托模式已经证明是实现继承的一个很好的替代方式，而Kotlin可以零样板代码地原生支持它。</p>
<ul>
<li><p>定义接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd.chapter1</div><div class="line"><span class="class"><span class="keyword">interface</span> <span class="title">View</span> </span>&#123;</div><div class="line">    <span class="function">fun <span class="title">onMeasure</span><span class="params">()</span></span></div><div class="line"><span class="function">    fun <span class="title">onDraw</span><span class="params">()</span></span></div><div class="line"><span class="function">&#125;</span></div></pre></td></tr></table></figure>
</li>
<li><p>实现接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd.chapter1</div><div class="line">class ViewImpl(val a: String) : View &#123;</div><div class="line">    <span class="function">override fun <span class="title">onMeasure</span><span class="params">()</span> </span>&#123;</div><div class="line">        print(<span class="string">"The method onMeasure() print $a\n"</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="function">override fun <span class="title">onDraw</span><span class="params">()</span> </span>&#123;</div><div class="line">        print(<span class="string">"The method onDraw() print $a\n"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>声明委托</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd.chapter1</div><div class="line">class Derived(view: View) : View by view</div></pre></td></tr></table></figure>
</li>
<li><p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd</div><div class="line"><span class="keyword">import</span> com.dyx.kd.chapter1.*</div><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    val view = ViewImpl(<span class="string">"dyx"</span>)</div><div class="line">    Derived(view).onMeasure()</div><div class="line">    Derived(view).onDraw()</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="标准委托"><a href="#标准委托" class="headerlink" title="标准委托"></a>标准委托</h3><p>Kotlin标准库为几种有用的委托提供了工厂方法。</p>
<ul>
<li>延迟属性Lazy</li>
</ul>
<p>lazy()是接受一个lambda并返回一个Lazy<t>实例的函数，返回的实例可以作为实现延迟属性的委托：第一次调用get()会执行以传递函数给lazy()的lambda表达式并记录，后续调用get()只是返回记录的结果。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd</div><div class="line"><span class="keyword">import</span> com.dyx.kd.chapter1.*</div><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    print(lazyValue)</div><div class="line">&#125;</div><div class="line">val lazyValue: String by lazy &#123;</div><div class="line">    print(<span class="string">"lazyValue"</span>)</div><div class="line">    <span class="string">"lazyValue"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></t></p>
<ul>
<li>可观察属性Observable</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd.chapter1</div><div class="line"><span class="keyword">import</span> kotlin.properties.Delegates</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">    var name: String by Delegates.observable(<span class="string">"No Name"</span>) &#123; property, oldValue, newValue -&gt;</div><div class="line">        print(<span class="string">"oldValue is $oldValue\nnewValue is $newValue\n"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd</div><div class="line"><span class="keyword">import</span> com.dyx.kd.chapter1.*</div><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    val person = Person()</div><div class="line">    person.name=<span class="string">"dyx"</span></div><div class="line">    person.name=<span class="string">"dayongxin"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>把属性存储到映射</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd.chapter1</div><div class="line">class School(val map: Map&lt;String, Any?&gt;) &#123;</div><div class="line">    val name: String by map</div><div class="line">    val address: String by map</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.dyx.kd</div><div class="line"><span class="keyword">import</span> com.dyx.kd.chapter1.*</div><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    val school = School(</div><div class="line">        mapOf(</div><div class="line">            <span class="string">"name"</span> to <span class="string">"cqu"</span>,</div><div class="line">            <span class="string">"address"</span> to <span class="string">"shapingba"</span></div><div class="line">        )</div><div class="line">    )</div><div class="line">    print(school.name)</div><div class="line">    print(school.address)</div><div class="line">&#125;</div></pre></td></tr></table></figure></div><div class="tags"><a href="/tags/Kotlin入门/">Kotlin入门</a></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2018/12/02/kotlin-coroutine/" class="pre">Kotlin教程-协程(一)</a><a href="/2018/11/12/kotlin-class-object-1/" class="next">Kotlin教程-类和对象(一)</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#型变"><span class="toc-text">型变</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#声明处型变"><span class="toc-text">声明处型变</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#泛型函数"><span class="toc-text">泛型函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#嵌套类与内部类"><span class="toc-text">嵌套类与内部类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#嵌套类"><span class="toc-text">嵌套类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#内部类"><span class="toc-text">内部类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#匿名内部类"><span class="toc-text">匿名内部类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#枚举类"><span class="toc-text">枚举类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#枚举类-1"><span class="toc-text">枚举类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#初始化"><span class="toc-text">初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#匿名类"><span class="toc-text">匿名类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在枚举中实现接口"><span class="toc-text">在枚举中实现接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用枚举常量"><span class="toc-text">使用枚举常量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对象表达式与对象声明"><span class="toc-text">对象表达式与对象声明</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#对象表达式"><span class="toc-text">对象表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对象声明"><span class="toc-text">对象声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对象表达式与对象声明的语义差别"><span class="toc-text">对象表达式与对象声明的语义差别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#伴生对象"><span class="toc-text">伴生对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#类型别名"><span class="toc-text">类型别名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#内联类"><span class="toc-text">内联类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#内联类继承"><span class="toc-text">内联类继承</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#委托"><span class="toc-text">委托</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#委托属性"><span class="toc-text">委托属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#委托实现"><span class="toc-text">委托实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#标准委托"><span class="toc-text">标准委托</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/12/14/kotlin-coroutine-2/">Kotlin教程-协程(二)</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/02/kotlin-coroutine/">Kotlin教程-协程(一)</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/20/kotlin-class-object-2/">Kotlin教程-类和对象(二)</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/12/kotlin-class-object-1/">Kotlin教程-类和对象(一)</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/03/kotlin-getting-started/">Kotlin教程-基础语法</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/20/springboot-mybatis/">使用Springboot+Mybatis搭建JavaEE项目</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/12/flutter-first-experience/">Flutter初体验</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/28/abstract-factory-design/">设计模式之抽象工厂模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/21/netty-websocket/">Android实现与Netty搭建Websocket服务器通信</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/14/silent-install/">Android实现静默安装自启动</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">19</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Design-pattern/">Design pattern</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/">Flutter</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaEE/">JavaEE</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kotlin/">Kotlin</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Node-js/">Node.js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/RxJava/">RxJava</a><span class="category-list-count">2</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/Glide用法/" style="font-size: 15px;">Glide用法</a> <a href="/tags/抽象工厂模式/" style="font-size: 15px;">抽象工厂模式</a> <a href="/tags/加固渠道/" style="font-size: 15px;">加固渠道</a> <a href="/tags/Android架构/" style="font-size: 15px;">Android架构</a> <a href="/tags/组件化/" style="font-size: 15px;">组件化</a> <a href="/tags/自定义View/" style="font-size: 15px;">自定义View</a> <a href="/tags/Jni和Ndk/" style="font-size: 15px;">Jni和Ndk</a> <a href="/tags/OkHttp源码解析/" style="font-size: 15px;">OkHttp源码解析</a> <a href="/tags/OkHttp用法/" style="font-size: 15px;">OkHttp用法</a> <a href="/tags/建造者模式/" style="font-size: 15px;">建造者模式</a> <a href="/tags/Tinker/" style="font-size: 15px;">Tinker</a> <a href="/tags/Realm/" style="font-size: 15px;">Realm</a> <a href="/tags/ButterKnife解析/" style="font-size: 15px;">ButterKnife解析</a> <a href="/tags/Flutter初体验/" style="font-size: 15px;">Flutter初体验</a> <a href="/tags/适配器模式/" style="font-size: 15px;">适配器模式</a> <a href="/tags/Kotlin入门/" style="font-size: 15px;">Kotlin入门</a> <a href="/tags/Glide源码解析/" style="font-size: 15px;">Glide源码解析</a> <a href="/tags/Https接口/" style="font-size: 15px;">Https接口</a> <a href="/tags/Websocket/" style="font-size: 15px;">Websocket</a> <a href="/tags/Kotlin教程/" style="font-size: 15px;">Kotlin教程</a> <a href="/tags/观察者模式/" style="font-size: 15px;">观察者模式</a> <a href="/tags/RecyclerView/" style="font-size: 15px;">RecyclerView</a> <a href="/tags/Retrofit解析/" style="font-size: 15px;">Retrofit解析</a> <a href="/tags/Retrofit/" style="font-size: 15px;">Retrofit</a> <a href="/tags/RxJava/" style="font-size: 15px;">RxJava</a> <a href="/tags/RxJava-MVP-Retrofit/" style="font-size: 15px;">RxJava MVP Retrofit</a> <a href="/tags/静默安装/" style="font-size: 15px;">静默安装</a> <a href="/tags/单例模式/" style="font-size: 15px;">单例模式</a> <a href="/tags/Springboot-Mybatis/" style="font-size: 15px;">Springboot+Mybatis</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://guides.codepath.com/android" title="CodePath" target="_blank">CodePath</a><ul></ul><a href="https://realm.io/" title="Realm" target="_blank">Realm</a><ul></ul><a href="https://developer.android.google.cn/index.html" title="Google Android" target="_blank">Google Android</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">dayongxin.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script></body></html>